<div id="ai-plugin-block-{{ block.id }}" class="ai-plugin-block">
  <h3>{{ block.settings.heading }}</h3>

  <label for="ai-prompt-{{ block.id }}">prompt:</label>
  <input
    type="text"
    id="ai-prompt-{{ block.id }}"
    value="{{ block.settings.prompt }}"
    placeholder="Describe what you want to generate"
    style="width:100%;padding:8px;border-radius:8px;border:1px solid #ccc;margin-bottom:8px;"
  />

  <button
    id="ai-generate-btn-{{ block.id }}"
    class="ai-generate-btn"
    data-block-id="{{ block.id }}"
    style="padding:8px 14px;border:none;background:#222;color:#fff;border-radius:8px;cursor:pointer;"
  >
    {{ block.settings.button_label }}
  </button>

  <div id="ai-result-{{ block.id }}" class="ai-result" style="margin-top:12px;">
    <!-- Generated image will appear here -->
  </div>
</div>

<script src="{{ 'ai-plugin.js' | asset_url }}" defer></script>

{% schema %}
{
  "name": "AI Image Generator",
  "target": "section",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "AI Image Generator"
    },
    {
      "type": "text",
      "id": "prompt",
      "label": "Prompt",
      "default": "Generate a futuristic cyberpunk bike"
    },
    {
      "type": "text",
      "id": "button_label",
      "label": "Button Label",
      "default": "Generate Image"
    }
  ]
}
{% endschema %}
